// GENERATED BY CFD2 CODEGEN (flux_module)

// DO NOT EDIT MANUALLY

struct Vector2 {
    x: f32,
    y: f32,
}

struct Constants {
    dt: f32,
    dt_old: f32,
    dtau: f32,
    time: f32,
    viscosity: f32,
    density: f32,
    component: u32,
    alpha_p: f32,
    scheme: u32,
    alpha_u: f32,
    stride_x: u32,
    time_scheme: u32,
    eos_gamma: f32,
    eos_gm1: f32,
    eos_r: f32,
    eos_dp_drho: f32,
    eos_p_offset: f32,
    eos_theta_ref: f32,
}

struct LowMachParams {
    model: u32,
    theta_floor: f32,
    pressure_coupling_alpha: f32,
    _pad0: f32,
}

// Group 0: Mesh

@group(0) @binding(0) 
var<storage, read> face_owner: array<u32>;

@group(0) @binding(1) 
var<storage, read> face_neighbor: array<i32>;

@group(0) @binding(2) 
var<storage, read> face_areas: array<f32>;

@group(0) @binding(3) 
var<storage, read> face_normals: array<Vector2>;

@group(0) @binding(4) 
var<storage, read> cell_centers: array<Vector2>;

@group(0) @binding(12) 
var<storage, read> face_boundary: array<u32>;

@group(0) @binding(13) 
var<storage, read> face_centers: array<Vector2>;

// Group 1: Fields

@group(1) @binding(0) 
var<storage, read_write> state: array<f32>;

@group(1) @binding(1) 
var<storage, read> state_old: array<f32>;

@group(1) @binding(2) 
var<storage, read> state_old_old: array<f32>;

@group(1) @binding(3) 
var<storage, read_write> fluxes: array<f32>;

@group(1) @binding(4) 
var<uniform> constants: Constants;

@group(1) @binding(5) 
var<uniform> low_mach_params: LowMachParams;

// Group 2: Boundary conditions (per face x unknown)

@group(2) @binding(0) 
var<storage, read> bc_kind: array<u32>;

@group(2) @binding(1) 
var<storage, read> bc_value: array<f32>;

fn bc_neighbor_scalar(interior: f32, owner: f32, kind: u32, value: f32, d_own: f32, is_boundary: bool) -> f32 {
    var boundary: f32 = owner;
    if (kind == 1u) {
        boundary = value;
    }
    if (kind == 2u) {
        boundary = owner + value * d_own;
    }
    return select(interior, boundary, is_boundary);
}

@compute
@workgroup_size(64)
fn main(@builtin(global_invocation_id) global_id: vec3<u32>) {
    let idx = global_id.y * constants.stride_x + global_id.x;
    if (idx >= arrayLength(&face_areas)) {
        return;
    }
    let owner = face_owner[idx];
    let neighbor = face_neighbor[idx];
    let is_boundary = neighbor == -1;
    var neigh_idx: u32 = owner;
    if (neighbor != -1) {
        neigh_idx = u32(neighbor);
    }
    let area = face_areas[idx];
    let boundary_type = face_boundary[idx];
    let face_center = face_centers[idx];
    var normal_vec: vec2<f32> = vec2<f32>(face_normals[idx].x, face_normals[idx].y);
    let c_owner = cell_centers[owner];
    let c_owner_vec: vec2<f32> = vec2<f32>(c_owner.x, c_owner.y);
    let face_center_vec: vec2<f32> = vec2<f32>(face_center.x, face_center.y);
    if (dot(face_center_vec - c_owner_vec, normal_vec) < 0.0) {
        normal_vec = -normal_vec;
    }
    let c_neigh = cell_centers[neigh_idx];
    var c_neigh_vec: vec2<f32> = vec2<f32>(c_neigh.x, c_neigh.y);
    let c_neigh_cell_vec: vec2<f32> = c_neigh_vec;
    if (is_boundary) {
        c_neigh_vec = face_center_vec;
    }
    let d_own = abs(dot(face_center_vec - c_owner_vec, normal_vec));
    let d_neigh = abs(dot(c_neigh_vec - face_center_vec, normal_vec));
    let total_dist = d_own + d_neigh;
    var lambda: f32 = 0.5;
    if (total_dist > 0.000001) {
        lambda = d_neigh / total_dist;
    }
    let lambda_other = 1.0 - lambda;
    let d_vec: vec2<f32> = c_neigh_vec - c_owner_vec;
    let dist_proj = abs(dot(d_vec, normal_vec));
    let dist = max(dist_proj, 0.000001);
    let s_own_T = bc_neighbor_scalar(state[owner * 22u + 9u], state[owner * 22u + 9u], bc_kind[idx * 8u + 7u], bc_value[idx * 8u + 7u], d_own, is_boundary);
    let s_own_grad_T_x = state[owner * 22u + 16u];
    let s_own_grad_T_y = state[owner * 22u + 17u];
    let s_own_grad_rho_x = state[owner * 22u + 12u];
    let s_own_grad_rho_y = state[owner * 22u + 13u];
    let s_own_grad_rho_u_x_x = state[owner * 22u + 3u];
    let s_own_grad_rho_u_x_y = state[owner * 22u + 4u];
    let s_own_grad_rho_u_y_x = state[owner * 22u + 5u];
    let s_own_grad_rho_u_y_y = state[owner * 22u + 6u];
    let s_own_grad_u_x_x = state[owner * 22u + 18u];
    let s_own_grad_u_x_y = state[owner * 22u + 19u];
    let s_own_grad_u_y_x = state[owner * 22u + 20u];
    let s_own_grad_u_y_y = state[owner * 22u + 21u];
    let s_own_rho = bc_neighbor_scalar(state[owner * 22u + 0u], state[owner * 22u + 0u], bc_kind[idx * 8u + 0u], bc_value[idx * 8u + 0u], d_own, is_boundary);
    let s_own_rho_u_x = select(bc_neighbor_scalar(state[owner * 22u + 1u], state[owner * 22u + 1u], bc_kind[idx * 8u + 1u], bc_value[idx * 8u + 1u], d_own, is_boundary), state[owner * 22u + 1u] - (state[owner * 22u + 1u] * normal_vec.x + state[owner * 22u + 2u] * normal_vec.y) * normal_vec.x, is_boundary && boundary_type == 4u);
    let s_own_rho_u_y = select(bc_neighbor_scalar(state[owner * 22u + 2u], state[owner * 22u + 2u], bc_kind[idx * 8u + 2u], bc_value[idx * 8u + 2u], d_own, is_boundary), state[owner * 22u + 2u] - (state[owner * 22u + 1u] * normal_vec.x + state[owner * 22u + 2u] * normal_vec.y) * normal_vec.y, is_boundary && boundary_type == 4u);
    let s_own_u_x = select(bc_neighbor_scalar(state[owner * 22u + 10u], state[owner * 22u + 10u], bc_kind[idx * 8u + 4u], bc_value[idx * 8u + 4u], d_own, is_boundary), state[owner * 22u + 10u] - (state[owner * 22u + 10u] * normal_vec.x + state[owner * 22u + 11u] * normal_vec.y) * normal_vec.x, is_boundary && boundary_type == 4u);
    let s_own_u_y = select(bc_neighbor_scalar(state[owner * 22u + 11u], state[owner * 22u + 11u], bc_kind[idx * 8u + 5u], bc_value[idx * 8u + 5u], d_own, is_boundary), state[owner * 22u + 11u] - (state[owner * 22u + 10u] * normal_vec.x + state[owner * 22u + 11u] * normal_vec.y) * normal_vec.y, is_boundary && boundary_type == 4u);
    let s_neigh_T = bc_neighbor_scalar(state[neigh_idx * 22u + 9u], state[owner * 22u + 9u], bc_kind[idx * 8u + 7u], bc_value[idx * 8u + 7u], d_own, is_boundary);
    let s_neigh_grad_T_x = select(state[neigh_idx * 22u + 16u], state[owner * 22u + 16u], is_boundary);
    let s_neigh_grad_T_y = select(state[neigh_idx * 22u + 17u], state[owner * 22u + 17u], is_boundary);
    let s_neigh_grad_rho_x = select(state[neigh_idx * 22u + 12u], state[owner * 22u + 12u], is_boundary);
    let s_neigh_grad_rho_y = select(state[neigh_idx * 22u + 13u], state[owner * 22u + 13u], is_boundary);
    let s_neigh_grad_rho_u_x_x = select(state[neigh_idx * 22u + 3u], state[owner * 22u + 3u], is_boundary);
    let s_neigh_grad_rho_u_x_y = select(state[neigh_idx * 22u + 4u], state[owner * 22u + 4u], is_boundary);
    let s_neigh_grad_rho_u_y_x = select(state[neigh_idx * 22u + 5u], state[owner * 22u + 5u], is_boundary);
    let s_neigh_grad_rho_u_y_y = select(state[neigh_idx * 22u + 6u], state[owner * 22u + 6u], is_boundary);
    let s_neigh_grad_u_x_x = select(state[neigh_idx * 22u + 18u], state[owner * 22u + 18u], is_boundary);
    let s_neigh_grad_u_x_y = select(state[neigh_idx * 22u + 19u], state[owner * 22u + 19u], is_boundary);
    let s_neigh_grad_u_y_x = select(state[neigh_idx * 22u + 20u], state[owner * 22u + 20u], is_boundary);
    let s_neigh_grad_u_y_y = select(state[neigh_idx * 22u + 21u], state[owner * 22u + 21u], is_boundary);
    let s_neigh_rho = bc_neighbor_scalar(state[neigh_idx * 22u + 0u], state[owner * 22u + 0u], bc_kind[idx * 8u + 0u], bc_value[idx * 8u + 0u], d_own, is_boundary);
    let s_neigh_rho_u_x = select(bc_neighbor_scalar(state[neigh_idx * 22u + 1u], state[owner * 22u + 1u], bc_kind[idx * 8u + 1u], bc_value[idx * 8u + 1u], d_own, is_boundary), state[owner * 22u + 1u] - (state[owner * 22u + 1u] * normal_vec.x + state[owner * 22u + 2u] * normal_vec.y) * normal_vec.x, is_boundary && boundary_type == 4u);
    let s_neigh_rho_u_y = select(bc_neighbor_scalar(state[neigh_idx * 22u + 2u], state[owner * 22u + 2u], bc_kind[idx * 8u + 2u], bc_value[idx * 8u + 2u], d_own, is_boundary), state[owner * 22u + 2u] - (state[owner * 22u + 1u] * normal_vec.x + state[owner * 22u + 2u] * normal_vec.y) * normal_vec.y, is_boundary && boundary_type == 4u);
    let _cse_5 = s_own_rho_u_x;
    let _cse_6 = s_own_rho_u_y;
    let _cse_4 = vec2<f32>(_cse_5, _cse_6);
    let _cse_3 = _cse_4 * 1.0 / s_own_rho;
    let _cse_2 = dot(_cse_3, normal_vec * area);
    let _cse_13 = constants.eos_gamma * constants.eos_r * s_own_T;
    let _cse_12 = sqrt(_cse_13);
    let _cse_11 = _cse_12 * area;
    let _cse_10 = _cse_2 + _cse_11;
    let _cse_18 = s_neigh_rho_u_x;
    let _cse_19 = s_neigh_rho_u_y;
    let _cse_17 = vec2<f32>(_cse_18, _cse_19);
    let _cse_16 = _cse_17 * 1.0 / s_neigh_rho;
    let _cse_15 = dot(_cse_16, normal_vec * area);
    let _cse_22 = constants.eos_gamma * constants.eos_r * s_neigh_T;
    let _cse_21 = sqrt(_cse_22);
    let _cse_20 = _cse_21 * area;
    let _cse_14 = _cse_15 + _cse_20;
    let _cse_9 = max(_cse_10, _cse_14);
    let _cse_8 = max(_cse_9, 0.0);
    let _cse_27 = _cse_2 - _cse_11;
    let _cse_28 = _cse_15 - _cse_20;
    let _cse_26 = min(_cse_27, _cse_28);
    let _cse_25 = min(_cse_26, 0.0);
    let _cse_24 = _cse_8 - _cse_25;
    let _cse_23 = max(_cse_24, 0.000001);
    let _cse_7 = _cse_8 / _cse_23;
    let _cse_1 = _cse_2 * _cse_7;
    let _cse_29 = _cse_25 * _cse_7;
    let _cse_0 = _cse_1 - _cse_29;
    let _cse_32 = 1.0 - _cse_7;
    let _cse_31 = _cse_15 * _cse_32;
    let _cse_30 = _cse_31 + _cse_29;
    let _cse_34 = _cse_7 * s_own_rho * constants.eos_r * s_own_T;
    let _cse_35 = _cse_32 * s_neigh_rho * constants.eos_r * s_neigh_T;
    let _cse_33 = _cse_34 + _cse_35;
    let _cse_43 = vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary));
    let _cse_42 = _cse_43.x;
    let _cse_47 = vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary));
    let _cse_46 = _cse_47.y;
    let _cse_45 = _cse_42 + _cse_46;
    let _cse_44 = 0.6666667 * _cse_45;
    let _cse_41 = 2.0 * _cse_42 - _cse_44;
    let _cse_40 = _cse_41 * normal_vec.x;
    let _cse_48 = _cse_43.y + _cse_47.x;
    let _cse_39 = _cse_40 + _cse_48 * normal_vec.y;
    let _cse_38 = constants.viscosity * _cse_39;
    let _cse_37 = _cse_38 * lambda;
    let _cse_53 = s_own_grad_u_x_x + s_own_grad_u_y_y;
    let _cse_52 = 0.6666667 * _cse_53;
    let _cse_54 = s_own_grad_u_x_y + s_own_grad_u_y_x;
    let _cse_51 = (2.0 * s_own_grad_u_x_x - _cse_52) * normal_vec.x + _cse_54 * normal_vec.y;
    let _cse_50 = constants.viscosity * _cse_51;
    let _cse_49 = _cse_50 * lambda_other;
    let _cse_36 = _cse_37 + _cse_49;
    let _cse_60 = 2.0 * _cse_46 - _cse_44;
    let _cse_59 = _cse_60 * normal_vec.y;
    let _cse_58 = _cse_48 * normal_vec.x + _cse_59;
    let _cse_57 = constants.viscosity * _cse_58;
    let _cse_56 = _cse_57 * lambda;
    let _cse_63 = _cse_54 * normal_vec.x + (2.0 * s_own_grad_u_y_y - _cse_52) * normal_vec.y;
    let _cse_62 = constants.viscosity * _cse_63;
    let _cse_61 = _cse_62 * lambda_other;
    let _cse_55 = _cse_56 + _cse_61;
    var phi_0: f32 = _cse_0 * s_own_rho + low_mach_params.pressure_coupling_alpha * (s_own_rho * constants.eos_r * s_own_T - s_neigh_rho * constants.eos_r * s_neigh_T) / max(constants.eos_gamma * s_own_rho * constants.eos_r * s_own_T / s_own_rho + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_30 * s_neigh_rho + low_mach_params.pressure_coupling_alpha * (s_own_rho * constants.eos_r * s_own_T - s_neigh_rho * constants.eos_r * s_neigh_T) / max(constants.eos_gamma * s_neigh_rho * constants.eos_r * s_neigh_T / s_neigh_rho + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
    var phi_1: f32 = _cse_0 * _cse_4.x + _cse_30 * _cse_17.x + _cse_33 * area * normal_vec.x - _cse_36 * area;
    var phi_2: f32 = _cse_0 * _cse_4.y + _cse_30 * _cse_17.y + _cse_33 * area * normal_vec.y - _cse_55 * area;
    var phi_3: f32 = _cse_0 * (s_own_rho * constants.eos_r * s_own_T / max(constants.eos_gm1, 0.000000000001) + 0.5 * s_own_rho * dot(_cse_3, _cse_3) + s_own_rho * constants.eos_r * s_own_T) + _cse_30 * (s_neigh_rho * constants.eos_r * s_neigh_T / max(constants.eos_gm1, 0.000000000001) + 0.5 * s_neigh_rho * dot(_cse_16, _cse_16) + s_neigh_rho * constants.eos_r * s_neigh_T) + _cse_29 * (s_own_rho * constants.eos_r * s_own_T - s_neigh_rho * constants.eos_r * s_neigh_T) - dot(vec2<f32>(dot(_cse_43 * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, _cse_43 * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(_cse_47 * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, _cse_47 * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(_cse_36, _cse_55), _cse_3 * _cse_7 + _cse_16 * _cse_32) * area;
    var phi_4: f32 = 0.0;
    var phi_5: f32 = 0.0;
    var phi_6: f32 = 0.0;
    var phi_7: f32 = 0.0;
    if (constants.scheme == 1u && !is_boundary) {
        let _cse_70 = s_own_rho_u_x;
        let _cse_71 = dot(vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y), face_center_vec - c_owner_vec);
        let _cse_69 = _cse_70 + _cse_71;
        let _cse_73 = s_own_rho_u_y;
        let _cse_74 = dot(vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y), face_center_vec - c_owner_vec);
        let _cse_72 = _cse_73 + _cse_74;
        let _cse_68 = vec2<f32>(_cse_69, _cse_72);
        let _cse_77 = dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), face_center_vec - c_owner_vec);
        let _cse_76 = s_own_rho + _cse_77;
        let _cse_75 = 1.0 / _cse_76;
        let _cse_67 = _cse_68 * _cse_75;
        let _cse_66 = dot(_cse_67, normal_vec * area);
        let _cse_85 = constants.eos_gamma * constants.eos_r * s_own_T;
        let _cse_84 = sqrt(_cse_85);
        let _cse_89 = 0.5 * constants.eos_gamma * constants.eos_r;
        let _cse_90 = max(_cse_84, 0.000000000001);
        let _cse_88 = _cse_89 / _cse_90;
        let _cse_87 = vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * _cse_88;
        let _cse_86 = dot(_cse_87, face_center_vec - c_owner_vec);
        let _cse_83 = _cse_84 + _cse_86;
        let _cse_82 = _cse_83 * area;
        let _cse_81 = _cse_66 + _cse_82;
        let _cse_96 = s_neigh_rho_u_x;
        let _cse_98 = vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary));
        let _cse_97 = dot(_cse_98, face_center_vec - c_neigh_cell_vec);
        let _cse_95 = _cse_96 + _cse_97;
        let _cse_100 = s_neigh_rho_u_y;
        let _cse_102 = vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary));
        let _cse_101 = dot(_cse_102, face_center_vec - c_neigh_cell_vec);
        let _cse_99 = _cse_100 + _cse_101;
        let _cse_94 = vec2<f32>(_cse_95, _cse_99);
        let _cse_106 = vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary));
        let _cse_105 = dot(_cse_106, face_center_vec - c_neigh_cell_vec);
        let _cse_104 = s_neigh_rho + _cse_105;
        let _cse_103 = 1.0 / _cse_104;
        let _cse_93 = _cse_94 * _cse_103;
        let _cse_92 = dot(_cse_93, normal_vec * area);
        let _cse_110 = constants.eos_gamma * constants.eos_r * s_neigh_T;
        let _cse_109 = sqrt(_cse_110);
        let _cse_113 = vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary));
        let _cse_115 = max(_cse_109, 0.000000000001);
        let _cse_114 = _cse_89 / _cse_115;
        let _cse_112 = _cse_113 * _cse_114;
        let _cse_111 = dot(_cse_112, face_center_vec - c_neigh_cell_vec);
        let _cse_108 = _cse_109 + _cse_111;
        let _cse_107 = _cse_108 * area;
        let _cse_91 = _cse_92 + _cse_107;
        let _cse_80 = max(_cse_81, _cse_91);
        let _cse_79 = max(_cse_80, 0.0);
        let _cse_120 = _cse_66 - _cse_82;
        let _cse_121 = _cse_92 - _cse_107;
        let _cse_119 = min(_cse_120, _cse_121);
        let _cse_118 = min(_cse_119, 0.0);
        let _cse_117 = _cse_79 - _cse_118;
        let _cse_116 = max(_cse_117, 0.000001);
        let _cse_78 = _cse_79 / _cse_116;
        let _cse_65 = _cse_66 * _cse_78;
        let _cse_122 = _cse_118 * _cse_78;
        let _cse_64 = _cse_65 - _cse_122;
        let _cse_125 = 1.0 - _cse_78;
        let _cse_124 = _cse_92 * _cse_125;
        let _cse_123 = _cse_124 + _cse_122;
        let _cse_127 = _cse_125 * _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec));
        let _cse_126 = _cse_78 * _cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) + _cse_127;
        phi_0 = _cse_64 * _cse_76 + low_mach_params.pressure_coupling_alpha * (_cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) - _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec))) / max(constants.eos_gamma * _cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) / _cse_76 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_123 * _cse_104 + low_mach_params.pressure_coupling_alpha * (_cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) - _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec))) / max(constants.eos_gamma * _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec)) / _cse_104 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_64 * _cse_68.x + _cse_123 * _cse_94.x + _cse_126 * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_64 * _cse_68.y + _cse_123 * _cse_94.y + _cse_126 * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_64 * (_cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_76 * dot(_cse_67, _cse_67) + _cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec))) + _cse_123 * (_cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_104 * dot(_cse_93, _cse_93) + _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec))) + _cse_122 * (_cse_76 * constants.eos_r * (s_own_T + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec)) - _cse_104 * constants.eos_r * (s_neigh_T + dot(_cse_113, face_center_vec - c_neigh_cell_vec))) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_67 * _cse_78 + _cse_93 * _cse_125) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    if (constants.scheme == 2u && !is_boundary) {
        let _cse_134 = s_own_rho_u_x;
        let _cse_138 = s_neigh_rho_u_x;
        let _cse_137 = _cse_134 * 0.625 + _cse_138 * 0.375;
        let _cse_136 = _cse_137 + dot(vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y), c_neigh_cell_vec - c_owner_vec) * 0.125;
        let _cse_135 = _cse_136 - _cse_134;
        let _cse_133 = _cse_134 + _cse_135;
        let _cse_140 = s_own_rho_u_y;
        let _cse_144 = s_neigh_rho_u_y;
        let _cse_143 = _cse_140 * 0.625 + _cse_144 * 0.375;
        let _cse_142 = _cse_143 + dot(vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y), c_neigh_cell_vec - c_owner_vec) * 0.125;
        let _cse_141 = _cse_142 - _cse_140;
        let _cse_139 = _cse_140 + _cse_141;
        let _cse_132 = vec2<f32>(_cse_133, _cse_139);
        let _cse_145 = s_own_rho + s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho;
        let _cse_131 = _cse_132 * 1.0 / _cse_145;
        let _cse_130 = dot(_cse_131, normal_vec * area);
        let _cse_153 = constants.eos_gamma * constants.eos_r * s_own_T;
        let _cse_152 = sqrt(_cse_153);
        let _cse_157 = constants.eos_gamma * constants.eos_r * s_neigh_T;
        let _cse_156 = sqrt(_cse_157);
        let _cse_159 = dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_152, 0.000000000001), c_neigh_cell_vec - c_owner_vec);
        let _cse_158 = _cse_159 * 0.125;
        let _cse_155 = _cse_152 * 0.625 + _cse_156 * 0.375 + _cse_158;
        let _cse_154 = _cse_155 - _cse_152;
        let _cse_151 = _cse_152 + _cse_154;
        let _cse_150 = _cse_151 * area;
        let _cse_149 = _cse_130 + _cse_150;
        let _cse_166 = _cse_138 * 0.625 + _cse_134 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_165 = _cse_166 - _cse_138;
        let _cse_164 = _cse_138 + _cse_165;
        let _cse_169 = _cse_144 * 0.625 + _cse_140 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_168 = _cse_169 - _cse_144;
        let _cse_167 = _cse_144 + _cse_168;
        let _cse_163 = vec2<f32>(_cse_164, _cse_167);
        let _cse_173 = s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_172 = _cse_173 - s_neigh_rho;
        let _cse_171 = s_neigh_rho + _cse_172;
        let _cse_170 = 1.0 / _cse_171;
        let _cse_162 = _cse_163 * _cse_170;
        let _cse_161 = dot(_cse_162, normal_vec * area);
        let _cse_180 = vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_156, 0.000000000001);
        let _cse_179 = dot(_cse_180, c_owner_vec - c_neigh_cell_vec);
        let _cse_178 = _cse_179 * 0.125;
        let _cse_177 = _cse_156 * 0.625 + _cse_152 * 0.375 + _cse_178;
        let _cse_176 = _cse_177 - _cse_156;
        let _cse_175 = _cse_156 + _cse_176;
        let _cse_174 = _cse_175 * area;
        let _cse_160 = _cse_161 + _cse_174;
        let _cse_148 = max(_cse_149, _cse_160);
        let _cse_147 = max(_cse_148, 0.0);
        let _cse_185 = _cse_130 - _cse_150;
        let _cse_186 = _cse_161 - _cse_174;
        let _cse_184 = min(_cse_185, _cse_186);
        let _cse_183 = min(_cse_184, 0.0);
        let _cse_182 = _cse_147 - _cse_183;
        let _cse_181 = max(_cse_182, 0.000001);
        let _cse_146 = _cse_147 / _cse_181;
        let _cse_129 = _cse_130 * _cse_146;
        let _cse_187 = _cse_183 * _cse_146;
        let _cse_128 = _cse_129 - _cse_187;
        let _cse_190 = 1.0 - _cse_146;
        let _cse_189 = _cse_161 * _cse_190;
        let _cse_188 = _cse_189 + _cse_187;
        let _cse_191 = _cse_146 * _cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + _cse_190 * _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T);
        phi_0 = _cse_128 * _cse_145 + low_mach_params.pressure_coupling_alpha * (_cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) - _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)) / max(constants.eos_gamma * _cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) / _cse_145 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_188 * _cse_171 + low_mach_params.pressure_coupling_alpha * (_cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) - _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)) / max(constants.eos_gamma * _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) / _cse_171 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_128 * _cse_132.x + _cse_188 * _cse_163.x + _cse_191 * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_128 * _cse_132.y + _cse_188 * _cse_163.y + _cse_191 * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_128 * (_cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_145 * dot(_cse_131, _cse_131) + _cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)) + _cse_188 * (_cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_171 * dot(_cse_162, _cse_162) + _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)) + _cse_187 * (_cse_145 * constants.eos_r * (s_own_T + s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) - _cse_171 * constants.eos_r * (s_neigh_T + s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_131 * _cse_146 + _cse_162 * _cse_190) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    if (constants.scheme == 3u && !is_boundary) {
        let _cse_198 = s_own_rho_u_x;
        let _cse_202 = s_neigh_rho_u_x;
        let _cse_201 = _cse_202 - _cse_198;
        let _cse_200 = max(dot(vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y), face_center_vec - c_owner_vec), min(_cse_201, 0.0));
        let _cse_199 = min(_cse_200, max(_cse_201, 0.0));
        let _cse_197 = _cse_198 + _cse_199;
        let _cse_204 = s_own_rho_u_y;
        let _cse_208 = s_neigh_rho_u_y;
        let _cse_207 = _cse_208 - _cse_204;
        let _cse_206 = max(dot(vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y), face_center_vec - c_owner_vec), min(_cse_207, 0.0));
        let _cse_205 = min(_cse_206, max(_cse_207, 0.0));
        let _cse_203 = _cse_204 + _cse_205;
        let _cse_196 = vec2<f32>(_cse_197, _cse_203);
        let _cse_209 = s_own_rho + min(max(dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), face_center_vec - c_owner_vec), min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0));
        let _cse_195 = _cse_196 * 1.0 / _cse_209;
        let _cse_194 = dot(_cse_195, normal_vec * area);
        let _cse_217 = constants.eos_gamma * constants.eos_r * s_own_T;
        let _cse_216 = sqrt(_cse_217);
        let _cse_222 = constants.eos_gamma * constants.eos_r * s_neigh_T;
        let _cse_221 = sqrt(_cse_222);
        let _cse_220 = _cse_221 - _cse_216;
        let _cse_219 = max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_216, 0.000000000001), face_center_vec - c_owner_vec), min(_cse_220, 0.0));
        let _cse_218 = min(_cse_219, max(_cse_220, 0.0));
        let _cse_215 = _cse_216 + _cse_218;
        let _cse_214 = _cse_215 * area;
        let _cse_213 = _cse_194 + _cse_214;
        let _cse_230 = _cse_198 - _cse_202;
        let _cse_229 = max(dot(vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(_cse_230, 0.0));
        let _cse_228 = min(_cse_229, max(_cse_230, 0.0));
        let _cse_227 = _cse_202 + _cse_228;
        let _cse_234 = _cse_204 - _cse_208;
        let _cse_233 = max(dot(vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(_cse_234, 0.0));
        let _cse_232 = min(_cse_233, max(_cse_234, 0.0));
        let _cse_231 = _cse_208 + _cse_232;
        let _cse_226 = vec2<f32>(_cse_227, _cse_231);
        let _cse_237 = min(max(dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_rho - s_neigh_rho, 0.0)), max(s_own_rho - s_neigh_rho, 0.0));
        let _cse_236 = s_neigh_rho + _cse_237;
        let _cse_235 = 1.0 / _cse_236;
        let _cse_225 = _cse_226 * _cse_235;
        let _cse_224 = dot(_cse_225, normal_vec * area);
        let _cse_243 = vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_221, 0.000000000001);
        let _cse_242 = dot(_cse_243, face_center_vec - c_neigh_cell_vec);
        let _cse_244 = _cse_216 - _cse_221;
        let _cse_241 = max(_cse_242, min(_cse_244, 0.0));
        let _cse_240 = min(_cse_241, max(_cse_244, 0.0));
        let _cse_239 = _cse_221 + _cse_240;
        let _cse_238 = _cse_239 * area;
        let _cse_223 = _cse_224 + _cse_238;
        let _cse_212 = max(_cse_213, _cse_223);
        let _cse_211 = max(_cse_212, 0.0);
        let _cse_249 = _cse_194 - _cse_214;
        let _cse_250 = _cse_224 - _cse_238;
        let _cse_248 = min(_cse_249, _cse_250);
        let _cse_247 = min(_cse_248, 0.0);
        let _cse_246 = _cse_211 - _cse_247;
        let _cse_245 = max(_cse_246, 0.000001);
        let _cse_210 = _cse_211 / _cse_245;
        let _cse_193 = _cse_194 * _cse_210;
        let _cse_251 = _cse_247 * _cse_210;
        let _cse_192 = _cse_193 - _cse_251;
        let _cse_254 = 1.0 - _cse_210;
        let _cse_253 = _cse_224 * _cse_254;
        let _cse_252 = _cse_253 + _cse_251;
        let _cse_255 = _cse_210 * _cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) + _cse_254 * _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)));
        phi_0 = _cse_192 * _cse_209 + low_mach_params.pressure_coupling_alpha * (_cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) / max(constants.eos_gamma * _cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) / _cse_209 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_252 * _cse_236 + low_mach_params.pressure_coupling_alpha * (_cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) / max(constants.eos_gamma * _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0))) / _cse_236 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_192 * _cse_196.x + _cse_252 * _cse_226.x + _cse_255 * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_192 * _cse_196.y + _cse_252 * _cse_226.y + _cse_255 * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_192 * (_cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_209 * dot(_cse_195, _cse_195) + _cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0)))) + _cse_252 * (_cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0))) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_236 * dot(_cse_225, _cse_225) + _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) + _cse_251 * (_cse_209 * constants.eos_r * (s_own_T + min(max(dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), face_center_vec - c_owner_vec), min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_236 * constants.eos_r * (s_neigh_T + min(max(dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), face_center_vec - c_neigh_cell_vec), min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_195 * _cse_210 + _cse_225 * _cse_254) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    if (constants.scheme == 4u && !is_boundary) {
        let _cse_261 = vec2<f32>(s_neigh_rho_u_x, s_neigh_rho_u_y) - vec2<f32>(s_own_rho_u_x, s_own_rho_u_y);
        let _cse_269 = dot(_cse_261, _cse_261);
        let _cse_271 = _cse_269 * _cse_269;
        let _cse_270 = _cse_271 + 0.000000000000000000000000000001;
        let _cse_268 = dot(_cse_261, vec2<f32>(dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y)), dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y)))) * _cse_269 / _cse_270;
        let _cse_267 = 2.0 * _cse_268;
        let _cse_266 = _cse_267 - 1.0;
        let _cse_265 = min(_cse_266, 1999.0);
        let _cse_264 = max(-2001.0, _cse_265);
        let _cse_263 = (_cse_264 + abs(_cse_264)) / (1.0 + abs(_cse_264));
        let _cse_262 = _cse_263 * lambda_other;
        let _cse_260 = _cse_261 * _cse_262;
        let _cse_259 = vec2<f32>(s_own_rho_u_x, s_own_rho_u_y) + _cse_260;
        let _cse_258 = _cse_259 * 1.0 / (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho));
        let _cse_257 = dot(_cse_258, normal_vec * area);
        let _cse_286 = sqrt(constants.eos_gamma * constants.eos_r * s_neigh_T) - sqrt(constants.eos_gamma * constants.eos_r * s_own_T);
        let _cse_285 = dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * 0.5 * constants.eos_gamma * constants.eos_r / max(sqrt(constants.eos_gamma * constants.eos_r * s_own_T), 0.000000000001)) * _cse_286 / (_cse_286 * _cse_286 + 0.000000000000000000000000000001);
        let _cse_284 = 2.0 * _cse_285;
        let _cse_283 = _cse_284 - 1.0;
        let _cse_282 = min(_cse_283, 1999.0);
        let _cse_281 = max(-2001.0, _cse_282);
        let _cse_280 = (_cse_281 + abs(_cse_281)) / (1.0 + abs(_cse_281));
        let _cse_279 = _cse_280 * lambda_other;
        let _cse_278 = _cse_279 * _cse_286;
        let _cse_277 = sqrt(constants.eos_gamma * constants.eos_r * s_own_T) + _cse_278;
        let _cse_276 = _cse_277 * area;
        let _cse_275 = _cse_257 + _cse_276;
        let _cse_299 = dot(_cse_261, vec2<f32>(dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary))), dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary))))) * _cse_269 / _cse_270;
        let _cse_298 = 2.0 * _cse_299;
        let _cse_297 = _cse_298 - 1.0;
        let _cse_296 = min(_cse_297, 1999.0);
        let _cse_295 = max(-2001.0, _cse_296);
        let _cse_300 = abs(_cse_295);
        let _cse_294 = _cse_295 + _cse_300;
        let _cse_293 = _cse_294 / (1.0 + _cse_300);
        let _cse_292 = _cse_293 * lambda;
        let _cse_291 = _cse_261 * _cse_292;
        let _cse_290 = vec2<f32>(s_neigh_rho_u_x, s_neigh_rho_u_y) - _cse_291;
        let _cse_289 = _cse_290 * 1.0 / (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho));
        let _cse_288 = dot(_cse_289, normal_vec * area);
        let _cse_310 = dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)) * 0.5 * constants.eos_gamma * constants.eos_r / max(sqrt(constants.eos_gamma * constants.eos_r * s_neigh_T), 0.000000000001)) * _cse_286 / (_cse_286 * _cse_286 + 0.000000000000000000000000000001);
        let _cse_309 = 2.0 * _cse_310;
        let _cse_308 = _cse_309 - 1.0;
        let _cse_307 = min(_cse_308, 1999.0);
        let _cse_306 = max(-2001.0, _cse_307);
        let _cse_305 = (_cse_306 + abs(_cse_306)) / (1.0 + abs(_cse_306));
        let _cse_304 = _cse_305 * lambda;
        let _cse_303 = _cse_304 * _cse_286;
        let _cse_302 = sqrt(constants.eos_gamma * constants.eos_r * s_neigh_T) - _cse_303;
        let _cse_301 = _cse_302 * area;
        let _cse_287 = _cse_288 + _cse_301;
        let _cse_274 = max(_cse_275, _cse_287);
        let _cse_273 = max(_cse_274, 0.0);
        let _cse_315 = _cse_257 - _cse_276;
        let _cse_316 = _cse_288 - _cse_301;
        let _cse_314 = min(_cse_315, _cse_316);
        let _cse_313 = min(_cse_314, 0.0);
        let _cse_312 = _cse_273 - _cse_313;
        let _cse_311 = max(_cse_312, 0.000001);
        let _cse_272 = _cse_273 / _cse_311;
        let _cse_317 = _cse_313 * _cse_272;
        let _cse_256 = _cse_257 * _cse_272 - _cse_317;
        let _cse_319 = 1.0 - _cse_272;
        let _cse_318 = _cse_288 * _cse_319 + _cse_317;
        phi_0 = _cse_256 * (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) + low_mach_params.pressure_coupling_alpha * ((s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) - (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) / max(constants.eos_gamma * (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) / (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_318 * (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) + low_mach_params.pressure_coupling_alpha * ((s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) - (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) / max(constants.eos_gamma * (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T)) / (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_256 * _cse_259.x + _cse_318 * _cse_290.x + (_cse_272 * (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) + _cse_319 * (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_256 * _cse_259.y + _cse_318 * _cse_290.y + (_cse_272 * (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) + _cse_319 * (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_256 * ((s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * dot(_cse_258, _cse_258) + (s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T))) + _cse_318 * ((s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * dot(_cse_289, _cse_289) + (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) + _cse_317 * ((s_own_rho + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y)) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_own_T + (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(s_own_grad_T_x, s_own_grad_T_y)) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda_other * (s_neigh_T - s_own_T)) - (s_neigh_rho - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary))) * (s_neigh_rho - s_own_rho) / ((s_neigh_rho - s_own_rho) * (s_neigh_rho - s_own_rho) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_rho - s_own_rho)) * constants.eos_r * (s_neigh_T - (max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)) + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) / (1.0 + abs(max(-2001.0, min(2.0 * dot(c_neigh_cell_vec - c_owner_vec, vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary))) * (s_neigh_T - s_own_T) / ((s_neigh_T - s_own_T) * (s_neigh_T - s_own_T) + 0.000000000000000000000000000001) - 1.0, 1999.0)))) * lambda * (s_neigh_T - s_own_T))) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_258 * _cse_272 + _cse_289 * _cse_319) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    if (constants.scheme == 5u && !is_boundary) {
        let _cse_326 = s_own_rho_u_x;
        let _cse_330 = s_neigh_rho_u_x;
        let _cse_329 = _cse_326 * 0.625 + _cse_330 * 0.375 + dot(vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - _cse_326;
        let _cse_328 = max(_cse_329, min(_cse_330 - _cse_326, 0.0));
        let _cse_327 = min(_cse_328, max(_cse_330 - _cse_326, 0.0));
        let _cse_325 = _cse_326 + _cse_327;
        let _cse_332 = s_own_rho_u_y;
        let _cse_336 = s_neigh_rho_u_y;
        let _cse_335 = _cse_332 * 0.625 + _cse_336 * 0.375 + dot(vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - _cse_332;
        let _cse_334 = max(_cse_335, min(_cse_336 - _cse_332, 0.0));
        let _cse_333 = min(_cse_334, max(_cse_336 - _cse_332, 0.0));
        let _cse_331 = _cse_332 + _cse_333;
        let _cse_324 = vec2<f32>(_cse_325, _cse_331);
        let _cse_323 = _cse_324 * 1.0 / (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0)));
        let _cse_322 = dot(_cse_323, normal_vec * area);
        let _cse_344 = constants.eos_gamma * constants.eos_r * s_own_T;
        let _cse_343 = sqrt(_cse_344);
        let _cse_350 = constants.eos_gamma * constants.eos_r * s_neigh_T;
        let _cse_349 = sqrt(_cse_350);
        let _cse_348 = _cse_343 * 0.625 + _cse_349 * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_343, 0.000000000001), c_neigh_cell_vec - c_owner_vec) * 0.125;
        let _cse_347 = _cse_348 - _cse_343;
        let _cse_346 = max(_cse_347, min(_cse_349 - _cse_343, 0.0));
        let _cse_345 = min(_cse_346, max(_cse_349 - _cse_343, 0.0));
        let _cse_342 = _cse_343 + _cse_345;
        let _cse_341 = _cse_342 * area;
        let _cse_340 = _cse_322 + _cse_341;
        let _cse_359 = _cse_330 * 0.625 + _cse_326 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_358 = _cse_359 - _cse_330;
        let _cse_357 = max(_cse_358, min(_cse_326 - _cse_330, 0.0));
        let _cse_356 = min(_cse_357, max(_cse_326 - _cse_330, 0.0));
        let _cse_355 = _cse_330 + _cse_356;
        let _cse_363 = _cse_336 * 0.625 + _cse_332 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - _cse_336;
        let _cse_362 = max(_cse_363, min(_cse_332 - _cse_336, 0.0));
        let _cse_361 = min(_cse_362, max(_cse_332 - _cse_336, 0.0));
        let _cse_360 = _cse_336 + _cse_361;
        let _cse_354 = vec2<f32>(_cse_355, _cse_360);
        let _cse_366 = min(max(s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_rho, min(s_own_rho - s_neigh_rho, 0.0)), max(s_own_rho - s_neigh_rho, 0.0));
        let _cse_365 = s_neigh_rho + _cse_366;
        let _cse_364 = 1.0 / _cse_365;
        let _cse_353 = _cse_354 * _cse_364;
        let _cse_352 = dot(_cse_353, normal_vec * area);
        let _cse_372 = _cse_349 * 0.625 + _cse_343 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_349, 0.000000000001), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_371 = _cse_372 - _cse_349;
        let _cse_370 = max(_cse_371, min(_cse_343 - _cse_349, 0.0));
        let _cse_369 = min(_cse_370, max(_cse_343 - _cse_349, 0.0));
        let _cse_368 = _cse_349 + _cse_369;
        let _cse_367 = _cse_368 * area;
        let _cse_351 = _cse_352 + _cse_367;
        let _cse_339 = max(_cse_340, _cse_351);
        let _cse_338 = max(_cse_339, 0.0);
        let _cse_377 = _cse_322 - _cse_341;
        let _cse_378 = _cse_352 - _cse_367;
        let _cse_376 = min(_cse_377, _cse_378);
        let _cse_375 = min(_cse_376, 0.0);
        let _cse_374 = _cse_338 - _cse_375;
        let _cse_373 = max(_cse_374, 0.000001);
        let _cse_337 = _cse_338 / _cse_373;
        let _cse_321 = _cse_322 * _cse_337;
        let _cse_379 = _cse_375 * _cse_337;
        let _cse_320 = _cse_321 - _cse_379;
        let _cse_382 = 1.0 - _cse_337;
        let _cse_381 = _cse_352 * _cse_382;
        let _cse_380 = _cse_381 + _cse_379;
        let _cse_383 = _cse_337 * (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) + _cse_382 * _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)));
        phi_0 = _cse_320 * (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) + low_mach_params.pressure_coupling_alpha * ((s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) / max(constants.eos_gamma * (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) / (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_380 * _cse_365 + low_mach_params.pressure_coupling_alpha * ((s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) / max(constants.eos_gamma * _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0))) / _cse_365 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_320 * _cse_324.x + _cse_380 * _cse_354.x + _cse_383 * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_320 * _cse_324.y + _cse_380 * _cse_354.y + _cse_383 * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_320 * ((s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) / max(constants.eos_gm1, 0.000000000001) + 0.5 * (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * dot(_cse_323, _cse_323) + (s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0)))) + _cse_380 * (_cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0))) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_365 * dot(_cse_353, _cse_353) + _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) + _cse_379 * ((s_own_rho + min(max(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho, min(s_neigh_rho - s_own_rho, 0.0)), max(s_neigh_rho - s_own_rho, 0.0))) * constants.eos_r * (s_own_T + min(max(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T, min(s_neigh_T - s_own_T, 0.0)), max(s_neigh_T - s_own_T, 0.0))) - _cse_365 * constants.eos_r * (s_neigh_T + min(max(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T, min(s_own_T - s_neigh_T, 0.0)), max(s_own_T - s_neigh_T, 0.0)))) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_323 * _cse_337 + _cse_353 * _cse_382) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    if (constants.scheme == 6u && !is_boundary) {
        let _cse_390 = s_own_rho_u_x;
        let _cse_393 = s_neigh_rho_u_x;
        let _cse_392 = _cse_390 * 0.625 + _cse_393 * 0.375 + dot(vec2<f32>(s_own_grad_rho_u_x_x, s_own_grad_rho_u_x_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - _cse_390;
        let _cse_391 = _cse_392 * abs(_cse_393 - _cse_390) / max(abs(_cse_393 - _cse_390), abs(_cse_392) + 0.00000001) * max((_cse_393 - _cse_390) * _cse_392, 0.0) / max(abs((_cse_393 - _cse_390) * _cse_392), 0.00000001);
        let _cse_389 = _cse_390 + _cse_391;
        let _cse_395 = s_own_rho_u_y;
        let _cse_398 = s_neigh_rho_u_y;
        let _cse_397 = _cse_395 * 0.625 + _cse_398 * 0.375 + dot(vec2<f32>(s_own_grad_rho_u_y_x, s_own_grad_rho_u_y_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - _cse_395;
        let _cse_396 = _cse_397 * abs(_cse_398 - _cse_395) / max(abs(_cse_398 - _cse_395), abs(_cse_397) + 0.00000001) * max((_cse_398 - _cse_395) * _cse_397, 0.0) / max(abs((_cse_398 - _cse_395) * _cse_397), 0.00000001);
        let _cse_394 = _cse_395 + _cse_396;
        let _cse_388 = vec2<f32>(_cse_389, _cse_394);
        let _cse_387 = _cse_388 * 1.0 / (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001));
        let _cse_386 = dot(_cse_387, normal_vec * area);
        let _cse_405 = sqrt(constants.eos_gamma * constants.eos_r * s_own_T);
        let _cse_410 = sqrt(constants.eos_gamma * constants.eos_r * s_neigh_T);
        let _cse_409 = _cse_405 * 0.625 + _cse_410 * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_405, 0.000000000001), c_neigh_cell_vec - c_owner_vec) * 0.125;
        let _cse_408 = _cse_409 - _cse_405;
        let _cse_407 = _cse_408 * abs(_cse_410 - _cse_405) / max(abs(_cse_410 - _cse_405), abs(_cse_408) + 0.00000001);
        let _cse_406 = _cse_407 * max((_cse_410 - _cse_405) * _cse_408, 0.0) / max(abs((_cse_410 - _cse_405) * _cse_408), 0.00000001);
        let _cse_404 = _cse_405 + _cse_406;
        let _cse_403 = _cse_404 * area;
        let _cse_402 = _cse_386 + _cse_403;
        let _cse_419 = _cse_393 * 0.625 + _cse_390 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_x_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_x_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_418 = _cse_419 - _cse_393;
        let _cse_417 = _cse_418 * abs(_cse_390 - _cse_393) / max(abs(_cse_390 - _cse_393), abs(_cse_418) + 0.00000001);
        let _cse_420 = max((_cse_390 - _cse_393) * _cse_418, 0.0) / max(abs((_cse_390 - _cse_393) * _cse_418), 0.00000001);
        let _cse_416 = _cse_417 * _cse_420;
        let _cse_415 = _cse_393 + _cse_416;
        let _cse_425 = _cse_398 * 0.625 + _cse_395 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_u_y_x, 0.0, is_boundary), select(s_neigh_grad_rho_u_y_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_424 = _cse_425 - _cse_398;
        let _cse_423 = _cse_424 * abs(_cse_395 - _cse_398) / max(abs(_cse_395 - _cse_398), abs(_cse_424) + 0.00000001);
        let _cse_426 = max((_cse_395 - _cse_398) * _cse_424, 0.0) / max(abs((_cse_395 - _cse_398) * _cse_424), 0.00000001);
        let _cse_422 = _cse_423 * _cse_426;
        let _cse_421 = _cse_398 + _cse_422;
        let _cse_414 = vec2<f32>(_cse_415, _cse_421);
        let _cse_428 = (s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_rho) * abs(s_own_rho - s_neigh_rho) / max(abs(s_own_rho - s_neigh_rho), abs(s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_rho) + 0.00000001) * max((s_own_rho - s_neigh_rho) * (s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_rho), 0.0) / max(abs((s_own_rho - s_neigh_rho) * (s_neigh_rho * 0.625 + s_own_rho * 0.375 + dot(vec2<f32>(select(s_neigh_grad_rho_x, 0.0, is_boundary), select(s_neigh_grad_rho_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_rho)), 0.00000001);
        let _cse_427 = s_neigh_rho + _cse_428;
        let _cse_413 = _cse_414 * 1.0 / _cse_427;
        let _cse_412 = dot(_cse_413, normal_vec * area);
        let _cse_434 = _cse_410 * 0.625 + _cse_405 * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)) * 0.5 * constants.eos_gamma * constants.eos_r / max(_cse_410, 0.000000000001), c_owner_vec - c_neigh_cell_vec) * 0.125;
        let _cse_433 = _cse_434 - _cse_410;
        let _cse_432 = _cse_433 * abs(_cse_405 - _cse_410) / max(abs(_cse_405 - _cse_410), abs(_cse_433) + 0.00000001);
        let _cse_436 = (_cse_405 - _cse_410) * _cse_433;
        let _cse_435 = max(_cse_436, 0.0) / max(abs(_cse_436), 0.00000001);
        let _cse_431 = _cse_432 * _cse_435;
        let _cse_430 = _cse_410 + _cse_431;
        let _cse_429 = _cse_430 * area;
        let _cse_411 = _cse_412 + _cse_429;
        let _cse_401 = max(_cse_402, _cse_411);
        let _cse_400 = max(_cse_401, 0.0);
        let _cse_441 = _cse_386 - _cse_403;
        let _cse_442 = _cse_412 - _cse_429;
        let _cse_440 = min(_cse_441, _cse_442);
        let _cse_439 = min(_cse_440, 0.0);
        let _cse_438 = _cse_400 - _cse_439;
        let _cse_437 = max(_cse_438, 0.000001);
        let _cse_399 = _cse_400 / _cse_437;
        let _cse_385 = _cse_386 * _cse_399;
        let _cse_443 = _cse_439 * _cse_399;
        let _cse_384 = _cse_385 - _cse_443;
        let _cse_446 = 1.0 - _cse_399;
        let _cse_445 = _cse_412 * _cse_446;
        let _cse_444 = _cse_445 + _cse_443;
        let _cse_447 = _cse_399 * (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) + _cse_446 * _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001));
        phi_0 = _cse_384 * (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) + low_mach_params.pressure_coupling_alpha * ((s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) - _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001))) / max(constants.eos_gamma * (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) / (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area + _cse_444 * _cse_427 + low_mach_params.pressure_coupling_alpha * ((s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) - _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001))) / max(constants.eos_gamma * _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001)) / _cse_427 + constants.eos_dp_drho, 0.000000000001) * (1.0 - max(0.0, 1.0 - abs(f32(low_mach_params.model) - 2.0))) * area;
        phi_1 = _cse_384 * _cse_388.x + _cse_444 * _cse_414.x + _cse_447 * area * normal_vec.x - (constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other) * area;
        phi_2 = _cse_384 * _cse_388.y + _cse_444 * _cse_414.y + _cse_447 * area * normal_vec.y - (constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other) * area;
        phi_3 = _cse_384 * ((s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * dot(_cse_387, _cse_387) + (s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001))) + _cse_444 * (_cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001)) / max(constants.eos_gm1, 0.000000000001) + 0.5 * _cse_427 * dot(_cse_413, _cse_413) + _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001))) + _cse_443 * ((s_own_rho + (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) * abs(s_neigh_rho - s_own_rho) / max(abs(s_neigh_rho - s_own_rho), abs(s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho) + 0.00000001) * max((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho), 0.0) / max(abs((s_neigh_rho - s_own_rho) * (s_own_rho * 0.625 + s_neigh_rho * 0.375 + dot(vec2<f32>(s_own_grad_rho_x, s_own_grad_rho_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_rho)), 0.00000001)) * constants.eos_r * (s_own_T + (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) * abs(s_neigh_T - s_own_T) / max(abs(s_neigh_T - s_own_T), abs(s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T) + 0.00000001) * max((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T), 0.0) / max(abs((s_neigh_T - s_own_T) * (s_own_T * 0.625 + s_neigh_T * 0.375 + dot(vec2<f32>(s_own_grad_T_x, s_own_grad_T_y), c_neigh_cell_vec - c_owner_vec) * 0.125 - s_own_T)), 0.00000001)) - _cse_427 * constants.eos_r * (s_neigh_T + (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) * abs(s_own_T - s_neigh_T) / max(abs(s_own_T - s_neigh_T), abs(s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T) + 0.00000001) * max((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T), 0.0) / max(abs((s_own_T - s_neigh_T) * (s_neigh_T * 0.625 + s_own_T * 0.375 + dot(vec2<f32>(select(s_neigh_grad_T_x, 0.0, is_boundary), select(s_neigh_grad_T_y, 0.0, is_boundary)), c_owner_vec - c_neigh_cell_vec) * 0.125 - s_neigh_T)), 0.00000001))) - dot(vec2<f32>(dot(vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_x - state[owner * 22u + 10u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_x_x, 0.0, is_boundary), select(s_neigh_grad_u_x_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_x_x, s_own_grad_u_x_y) * lambda_other)), normal_vec), dot(vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other + normal_vec * select(0.0, 1.0, is_boundary) * ((s_own_u_y - state[owner * 22u + 11u]) / max(dist, 0.000001) - dot(normal_vec, vec2<f32>(select(s_neigh_grad_u_y_x, 0.0, is_boundary), select(s_neigh_grad_u_y_y, 0.0, is_boundary)) * lambda + vec2<f32>(s_own_grad_u_y_x, s_own_grad_u_y_y) * lambda_other)), normal_vec)) * constants.viscosity + vec2<f32>(constants.viscosity * ((2.0 * select(s_neigh_grad_u_x_x, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.x + (select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.y) * lambda + constants.viscosity * ((2.0 * s_own_grad_u_x_x - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.x + (s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.y) * lambda_other, constants.viscosity * ((select(s_neigh_grad_u_x_y, 0.0, is_boundary) + select(s_neigh_grad_u_y_x, 0.0, is_boundary)) * normal_vec.x + (2.0 * select(s_neigh_grad_u_y_y, 0.0, is_boundary) - 0.6666667 * (select(s_neigh_grad_u_x_x, 0.0, is_boundary) + select(s_neigh_grad_u_y_y, 0.0, is_boundary))) * normal_vec.y) * lambda + constants.viscosity * ((s_own_grad_u_x_y + s_own_grad_u_y_x) * normal_vec.x + (2.0 * s_own_grad_u_y_y - 0.6666667 * (s_own_grad_u_x_x + s_own_grad_u_y_y)) * normal_vec.y) * lambda_other), _cse_387 * _cse_399 + _cse_413 * _cse_446) * area;
        phi_4 = 0.0;
        phi_5 = 0.0;
        phi_6 = 0.0;
        phi_7 = 0.0;
    }
    fluxes[idx * 8u + 0u] = phi_0;
    fluxes[idx * 8u + 1u] = phi_1;
    fluxes[idx * 8u + 2u] = phi_2;
    fluxes[idx * 8u + 3u] = phi_3;
    fluxes[idx * 8u + 4u] = phi_4;
    fluxes[idx * 8u + 5u] = phi_5;
    fluxes[idx * 8u + 6u] = phi_6;
    fluxes[idx * 8u + 7u] = phi_7;
}
